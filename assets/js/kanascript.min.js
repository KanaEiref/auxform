/*! auxform 19-07-2013 */
!function(){"use strict";function a(a){var b=/^3[47][0-9]{13}$/,c=/^4[0-9]{12}(?:[0-9]{3})?$/,d=/^5[1-5][0-9]{14}$/,e=/^6(?:011|5[0-9]{2})[0-9]{12}$/;return b.test(a)?"amex":c.test(a)?"visa":e.test(a)?"discover":d.test(a)?"master":"invalidCardType"}function b(a){switch(a){case"neutual":$("#lock").removeClass();break;case"pass":$("#lock").removeClass("notPass").addClass("pass");break;case"notPass":$("#lock").removeClass("pass").addClass("notPass")}}function c(a){var c=$("#securityCode").val().length,d=a.data.name;"amex"==d?4===c?b("pass"):(b("notPass"),$("#securityCode").removeClass().addClass("error")):3===c?b("pass"):(b("notPass"),$("#securityCode").removeClass().addClass("error"))}Modernizr.input.required||Monderizr.load({load:"assets/js/vendor/jquery.validate.min.js",complete:function(){$("#kanaform").validate({rules:{portfolioAddress:"required",portfolioTitle:"required",name:{required:!0,minlength:2},email:{required:!0,email:!0},password:{required:!0,minlength:5},cardNumber:"required",securityCode:"required",monthList:"required",yearList:"required"},messages:{portfolioAddress:"Please enter your portfolio address",portfolioTitle:"Please enter your portfoilo title",name:{required:"Please enter a name",minlength:"Your name must consist of at least 2 characters"},email:"Please enter a valid email address",password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},cardNumber:"Please enter your credit card number",securityCode:"Please enter your security code",monthList:"Please enter your card expiration month",yearList:"Please enter your card expiration year"}})}}),$("#monthList").blur(function(){"month"==$(this).val()?(b("notPass"),$(this).removeClass().addClass("error")):b("neutual")}),$("#yearList").blur(function(){"year"==$(this).val()?(b("notPass"),$(this).removeClass().addClass("error")):b("neutual")}),$("#cardNumber").blur(function(){var b=$("#cardNumber").val(),d=a(b);switch($(this).removeClass(),d){case"amex":$("#lamexcard").fadeTo("slow",1),$("#lvisaCard,#lmasterCard, #ldiscoverCard").fadeTo("slow",.1),$("#lcardBack").removeClass("isNotamexcard").addClass("isAmexcard"),$("#securityCode").on("blur",{name:d},c);break;case"visa":$("#lvisaCard").fadeTo("slow",1),$("#lamexcard, #lmasterCard, #ldiscoverCard").fadeTo("slow",.1),$("#lcardBack").removeClass("isAmexcard").addClass("isNotamexcard"),$("#securityCode").on("blur",{name:d},c);break;case"discover":$("#ldiscoverCard").fadeTo("slow",1),$("#lvisaCard, #lmasterCard, #lamexcard").fadeTo("slow",.2),$("#lcardBack").removeClass("isAmexcard").addClass("isNotamexcard"),$("#securityCode").on("blur",{name:d},c);break;case"master":$("#lmasterCard").fadeTo("slow",1),$("#lvisaCard, #lamexcard, #ldiscoverCard").fadeTo("slow",.1),$("#lcardBack").removeClass("isAmexcard").addClass("isNotamexcard"),$("#securityCode").on("blur",{name:d},c);break;default:$("#lamexcard, #lvisaCard, #lmasterCard, #ldiscoverCard").fadeTo(200,.4),$(this).removeClass().addClass("error")}}),$("#showPassword").click(function(){console.log($("#password").val()),$("#hiddenPassword").val($("#password").val()),console.log($("#hiddenPassword").val()),$("#hiddenPassword").removeClass("hidden"),$("#hiddenPassword").show()})}();